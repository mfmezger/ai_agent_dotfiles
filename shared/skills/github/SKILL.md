---
name: github
description: Automates the end-to-end Git workflow: branch creation, staging, committing, pushing, and opening a GitHub pull request. Use when a feature or fix is ready for review and requires a structured PR.
---

# GitHub Workflow

This skill guides the process of moving local changes to a GitHub Pull Request.

## Prerequisites

- `git` must be installed and configured.
- `gh` (GitHub CLI) must be installed and authenticated.

## Commit Message Format

Use Conventional Commits with this required format:
`<type>(<scope>): <summary>`

- `type` REQUIRED. Common values: `feat`, `fix`, `docs`, `refactor`, `chore`,
  `test`, `perf`, `ci`, `build`, `style`.
- `scope` REQUIRED. Short noun for the changed area (for example: `config`,
  `api`, `ui`, `docs`).
- `summary` REQUIRED. Imperative, <= 72 chars, no trailing period.

Rules:

- Do not add AI attribution in commits (no "Generated by ...", no agent names).
- Do not add sign-offs or breaking-change footers unless the user requests them.

## Workflow Steps

1.  **Branch Creation**
    - Identify the scope of changes (e.g., `feat`, `fix`, `docs`, `chore`).
    - Propose a branch name following the pattern `<type>/<kebab-case-description>`.
    - Execute: `git checkout -b <branch-name>`

2.  **Staging & Review**
    - Review changes with `git status` and `git diff`.
    - If the user provided file paths/globs, stage only those files.
    - If there are ambiguous extra changed files, ask before staging/committing.
    - Optionally inspect recent subjects for local scope patterns:
      `git log -n 10 --pretty=format:%s`.

3.  **Commit**
    - Propose a message in exact format:
      `<type>(<scope>): <summary>`.
    - Execute: `git commit -m "<message>"`
    - If pre-commit hooks fail, diagnose and fix the issues before re-committing.
    - Do not push until commit succeeds and intent is confirmed.

4.  **Push**
    - Push the branch to the remote: `git push -u origin <branch-name>`

5.  **Pull Request**
    - Create the PR using `gh pr create`.
    - Provide a concise title (often the commit message) and a body summarizing the changes.
    - Execute: `gh pr create --title "<title>" --body "<body>"`
    - Share the generated PR URL with the user.

## Common Failures

- **Pre-commit hooks**: If hooks fail, fix the files and stage them again before committing.
- **Untracked files**: Ensure new files are added.
- **Remote branch already exists**: If the branch exists, ask the user if they want to overwrite or use a different name.
